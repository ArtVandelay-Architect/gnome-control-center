Index: gnome-control-center-3.3.5/shell/gnome-control-center.c
===================================================================
--- gnome-control-center-3.3.5.orig/shell/gnome-control-center.c	2012-02-12 13:38:38.596370763 -0500
+++ gnome-control-center-3.3.5/shell/gnome-control-center.c	2012-02-12 13:38:45.092402986 -0500
@@ -197,7 +197,23 @@
         }
       else
         {
-          g_warning ("Could not find the loadable module for panel '%s'", id);
+	  GKeyFile *key_file;
+
+	  /* It might be an external panel */
+	  key_file = g_key_file_new ();
+	  if (g_key_file_load_from_file (key_file, desktop_file, G_KEY_FILE_NONE, NULL))
+	    {
+	      gchar *command;
+
+	      command = g_key_file_get_string (key_file, G_KEY_FILE_DESKTOP_GROUP, G_KEY_FILE_DESKTOP_KEY_EXEC, NULL);
+	      if (command && command[0])
+	        {
+		  g_spawn_command_line_async (command, NULL);
+		  g_free (command);
+		}
+	    }
+
+	  g_key_file_free (key_file);
         }
     }
 }
Index: gnome-control-center-3.3.5/shell/libgnome-control-center.pc.in
===================================================================
--- /dev/null	1970-01-01 00:00:00.000000000 +0000
+++ gnome-control-center-3.3.5/shell/libgnome-control-center.pc.in	2012-02-12 13:38:45.092402986 -0500
@@ -0,0 +1,12 @@
+prefix=@prefix@
+exec_prefix=@exec_prefix@
+libdir=@libdir@
+includedir=@includedir@
+extensiondir=@libdir@/control-center-1/panels
+
+Name: libgnome-control-center
+Description: A library to create GNOME Control Center extensions
+Version: @VERSION@
+Requires: glib-2.0 gio-2.0 gtk+-3.0
+Libs: -L${libdir} -lgnome-control-center
+Cflags: -I${includedir}/gnome-control-center-1
Index: gnome-control-center-3.3.5/configure.ac
===================================================================
--- gnome-control-center-3.3.5.orig/configure.ac	2012-02-12 13:38:38.352369553 -0500
+++ gnome-control-center-3.3.5/configure.ac	2012-02-12 13:42:22.037478751 -0500
@@ -417,6 +417,7 @@
 panels/wacom/calibrator/Makefile
 panels/wacom/gnome-wacom-panel.desktop.in
 po/Makefile.in
+shell/libgnome-control-center.pc
 shell/Makefile
 shell/gnome-control-center.desktop.in
 ])
Index: gnome-control-center-3.3.5/shell/Makefile.am
===================================================================
--- gnome-control-center-3.3.5.orig/shell/Makefile.am	2012-01-30 09:13:20.000000000 -0500
+++ gnome-control-center-3.3.5/shell/Makefile.am	2012-02-12 13:41:25.009195956 -0500
@@ -35,6 +35,11 @@
 	cc-shell.h				\
 	$(MARSHAL_FILES)
 
+libgnome_control_center_include_HEADERS =		\
+	cc-panel.h				\
+	cc-shell.h				\
+	$(NULL)
+
 gnome_control_center_LDADD =			\
 	$(SHELL_LIBS)
 
@@ -65,11 +70,17 @@
 directory_DATA = $(directory_in_files:.directory.in=.directory)
 @INTLTOOL_DIRECTORY_RULE@
 
+libgnome_control_center_includedir = $(includedir)/gnome-control-center-1/shell
+
+pkgconfigdir=$(libdir)/pkgconfig
+pkgconfig_DATA=libgnome-control-center.pc
+
 EXTRA_DIST =					\
 	$(ui_DATA)				\
 	gnome-control-center.desktop.in.in	\
 	gnomecc.directory.in			\
 	gnomecc.menu.in				\
+	libgnome-control-center.pc.in		\
 	cc-shell-marshal.list
 
 DISTCLEANFILES = gnome-control-center.desktop gnome-control-center.desktop.in gnomecc.directory gnomecc.menu
