diff -Nur -x '*.orig' -x '*~' gnome-control-center-2.23.90/capplets/display/xrandr-capplet.c gnome-control-center-2.23.90.new/capplets/display/xrandr-capplet.c
--- gnome-control-center-2.23.90/capplets/display/xrandr-capplet.c	2008-09-13 00:01:32.000000000 +0100
+++ gnome-control-center-2.23.90.new/capplets/display/xrandr-capplet.c	2008-09-13 00:05:08.000000000 +0100
@@ -168,7 +168,7 @@
 	    char *cur_name =
 		app->current_output? app->current_output->name : NULL;
 
-	    if ((cur_name && strcmp (output->name, cur_name) == 0) || !best)
+	    if ((cur_name && output->name && strcmp (output->name, cur_name) == 0) || !best)
 		best = output;
 	}
     }
